(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{303:function(e,t,a){e.exports=a(352)},308:function(e,t,a){},349:function(e,t){new Date(2019,5,24,10,30),new Date(2019,5,24,11,30),new Date(2019,5,25,12,0),new Date(2019,5,25,13,0),new Date(2019,5,25,14,30),new Date(2019,5,25,15,30),new Date(2019,5,26,10,0),new Date(2019,5,26,11,0),new Date(2019,5,26,12,0),new Date(2019,5,26,13,35),new Date(2019,5,26,14,30),new Date(2019,5,26,15,45),new Date(2019,5,27,9,45),new Date(2019,5,27,11,15),new Date(2019,5,27,12,0),new Date(2019,5,27,14,0),new Date(2019,5,27,15,15),new Date(2019,5,27,16,30),new Date(2019,5,28,11,0),new Date(2019,5,28,12,0),new Date(2019,5,28,11,0),new Date(2019,5,28,13,30),new Date(2019,5,28,14,0),new Date(2019,5,28,15,30),new Date(2019,5,29,10,0),new Date(2019,5,29,11,30),new Date(2019,5,29,14,30),new Date(2019,5,29,16,0),new Date(2019,5,29,16,30),new Date(2019,5,29,18,0),new Date(2019,5,29,12,20),new Date(2019,5,29,14,0),new Date(2019,6,2,9,30),new Date(2019,6,2,15,30),new Date(2019,6,2,12,0),new Date(2019,6,2,13,0),new Date(2019,6,2,14,30),new Date(2019,6,2,17,30),new Date(2019,6,2,16,0),new Date(2019,6,3,9,0),new Date(2019,6,3,10,15),new Date(2019,6,3,13,35),new Date(2019,6,3,14,30),new Date(2019,6,3,15,45),new Date(2019,6,3,15,45),new Date(2019,6,4,12,15),new Date(2019,6,4,12,35),new Date(2019,6,4,14,15),new Date(2019,6,4,15,15),new Date(2019,6,4,20,30),new Date(2019,6,5,6,0),new Date(2019,6,5,14,20),new Date(2019,6,5,14,35),new Date(2019,6,5,16,20),new Date(2019,6,5,10,0),new Date(2019,6,5,11,20),new Date(2019,6,5,20,0),new Date(2019,6,6,13,30),new Date(2019,6,6,14,10),new Date(2019,6,6,15,30),new Date(2019,6,6,10,0),new Date(2019,6,7,14,30),new Date(2019,6,3,9,30),new Date(2019,6,3,12,25),new Date(2019,6,3,12,30),new Date(2019,6,3,18,0),new Date(2019,6,3,12,20),new Date(2019,6,3,14,10),new Date(2019,5,26,0,0),new Date(2019,5,27,0,0),new Date(2019,5,29,10,0),new Date(2019,5,30,14,30),new Date(2019,6,3,0,0),new Date(2019,6,4,10,30),new Date(2019,6,5,10,0),new Date(2019,6,9,14,30),new Date(2019,6,1,10,0),new Date(2019,6,3,14,30),new Date(2019,6,1),new Date(2019,6,2)},352:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(16),l=a.n(r),o=(a(308),a(128)),s=a(79),c=a(27),m=a(35),u=a(25),d=a(37),p=a(36),h=a(38),g=a(129),f=a(163),b=a(248),E=a(252),v=a(250),C=a(251),w=a(249),k=a(30),y=a.n(k),D={getAppointments:function(){return y.a.get("/api/appointments")},getAppointment:function(e){return y.a.get("/api/appointments/"+e)},deleteAppointment:function(e){return y.a.delete("/api/appointments/"+e)},saveAppointment:function(e){return y.a.post("/api/appointments",e)},updateAppointment:function(e){return console.log("appointment data Yo",e),y.a.put("/api/appointments/"+e)},getClients:function(){return y.a.get("/api/clients")},getClient:function(e){return y.a.get("/api/clients/"+e)},deleteClient:function(e){return y.a.delete("/api/clients/"+e)},saveClient:function(e){return y.a.post("/api/clients",e)},getTasks:function(){return y.a.get("/api/tasks")},getTask:function(e){return y.a.get("/api/tasks/"+e)},deleteTask:function(e){return y.a.delete("/api/tasks/"+e)},saveTask:function(e){return y.a.post("/api/tasks",e)},getPayments:function(){return y.a.get("/api/payments")},getPayment:function(e){return y.a.get("/api/payments/"+e)},deletePayment:function(e){return y.a.delete("/api/payments/"+e)},savePayment:function(e){return y.a.post("/api/payments",e)},getUsers:function(){return y.a.get("/api/users")},getUser:function(e){return y.a.get("/api/users/"+e)},deleteUser:function(e){return y.a.delete("/api/users/"+e)},saveUser:function(e){return y.a.post("/api/users",e)},signUp:function(e){return console.log(e),y.a.post("/api/auth/signup",e)},signIn:function(e){return y.a.post("/api/auth/signin",e)},getSignOut:function(){return y.a.get("/api/signout")},signOut:function(){return y.a.post("/api/auth/signout",{})}},j=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={open:!1,username:"",password:""},a.handleInputChange=function(e){console.log("event"+e);var t=e.target,n=t.name,i=t.value;a.setState(Object(c.a)({},n,i))},a.handleFormSubmit=function(e){e.preventDefault();var t={username:a.state.username,password:a.state.password};console.log(t),D.signUp(t).then(function(e){console.log("this: "+e),a.setState({username:"",password:"",open:!1}),a.props.history.push("/app/dashboard")})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleClickOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(g.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.handleClickOpen.bind(this)},"Sign Up"),i.a.createElement(b.a,{open:this.state.open,onClose:this.handleClose.bind(this),"aria-labelledby":"form-dialog-title"},i.a.createElement(w.a,{id:"form-dialog-title"},"Sign Up"),i.a.createElement(v.a,null,i.a.createElement(C.a,null,"To sign up for an account with LMS Schedule, please give us an Email, and create a password here."),i.a.createElement("form",{noValidate:!0,autoComplete:"off"},i.a.createElement(f.a,{autoFocus:!0,margin:"normal",name:"username",label:"Email Address",type:"email",value:this.state.username,onChange:this.handleInputChange.bind(this),fullWidth:!0,required:!0}),i.a.createElement(f.a,{autoFocus:!0,margin:"normal",name:"password",label:"Password",type:"text",value:this.state.password,onChange:this.handleInputChange.bind(this),fullWidth:!0,required:!0}))),i.a.createElement(E.a,null,i.a.createElement(g.a,{onClick:this.handleClose.bind(this),color:"primary"},"Cancel"),i.a.createElement(g.a,{onClick:this.handleFormSubmit.bind(this),color:"primary"},"Sign Up"))))}}]),t}(n.Component),O=a(179),N=a(253),x=a(218),S=a(227),A=a(71),I=a(42),T=a(275),P=a.n(T),F=a(46),V=a(4),B=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleInputChange=function(e){console.log("event"+e);var t=e.target,n=t.name,i=t.value;a.setState(Object(c.a)({},n,i))},a.handleFormSubmit=function(e){e.preventDefault();var t={username:a.state.username,password:a.state.password};console.log(e,t),D.signIn(t).then(function(e){console.log("this: "+e),a.setState({username:"",password:""}),a.props.history.push("/app/dashboard")})},a.state={username:"",password:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(I.a,{container:!0,component:"main",className:e.root},i.a.createElement(N.a,null),i.a.createElement(I.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),i.a.createElement(I.a,{item:!0,xs:12,sm:8,md:5,component:A.a,elevation:6,square:!0},i.a.createElement("div",{className:e.paper},i.a.createElement(O.a,{className:e.avatar},i.a.createElement(P.a,null)),i.a.createElement(F.a,{component:"h1",variant:"h5"},"Sign in"),i.a.createElement("form",{className:e.form,noValidate:!0},i.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"username",autoComplete:"username",autoFocus:!0,onChange:this.handleInputChange.bind(this)}),i.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.handleInputChange.bind(this)}),i.a.createElement(x.a,{control:i.a.createElement(S.a,{value:"remember",color:"primary"}),label:"Remember me"}),i.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:this.handleFormSubmit.bind(this)},"Sign In"),i.a.createElement(j,null)))))}}]),t}(i.a.PureComponent),W=Object(V.a)(function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://static.businessworld.in/article/article_extra_large_image/1516276756_NzomBP_ENTREPRENEUR-ST470.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}},{name:"Signup"})(B),H=a(78),U=a(80),q=a(2),L=a(217),R=a(45),M=a(51),z=a(254),_=a(168),G=a(215),Y=a(255),J=a(131),K=a(276),$=a.n(K),X=a(169),Q=a.n(X),Z=a(170),ee=a.n(Z),te=a(220),ae=a(256),ne=a(257),ie=a(277),re=a.n(ie),le=a(278),oe=a.n(le),se=Object(L.a)(function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(U.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}});function ce(e){var t=se(),a=Object(R.a)(),i=n.useState(!1),r=Object(H.a)(i,2),l=r[0],o=r[1];return n.createElement("div",{className:t.root},n.createElement(N.a,null),n.createElement(z.a,{position:"fixed",className:Object(q.a)(t.appBar,Object(c.a)({},t.appBarShift,l))},n.createElement(_.a,null,n.createElement(J.a,{color:"inherit","aria-label":"Open drawer",onClick:function(){o(!0)},edge:"start",className:Object(q.a)(t.menuButton,l&&t.hide)},n.createElement($.a,null)),n.createElement(F.a,{variant:"h6",noWrap:!0},"LMS Schedule"))),n.createElement(M.a,{className:t.drawer,variant:"persistent",anchor:"left",open:l,classes:{paper:t.drawerPaper}},n.createElement("div",{className:t.drawerHeader},n.createElement(J.a,{onClick:function(){o(!1)}},"ltr"===a.direction?n.createElement(Q.a,null):n.createElement(ee.a,null))),n.createElement(Y.a,null),n.createElement(G.a,null,[{name:"Dashboard",url:"/app/dashboard"},{name:"Calendar",url:"/app/calendar"},{name:"New Client",url:"/app/client"}].map(function(e,t){return n.createElement(te.a,{button:!0,key:e.name},n.createElement(ae.a,null,t%2===0?n.createElement(re.a,null):n.createElement(oe.a,null)),n.createElement("a",{href:e.url},n.createElement(ne.a,{primary:e.name}),n.createElement(J.a,null)))})),n.createElement(Y.a,null)),n.createElement("main",{className:Object(q.a)(t.content,Object(c.a)({},t.contentShift,l))},n.createElement("div",{className:t.drawerHeader}),e.children))}var me=a(258);a(81),a(82),a(69),a(221),a(172),Object(L.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:650}}});function ue(e,t,a,n,i){return{name:e,calories:t,fat:a,carbs:n,protein:i}}ue("Frozen yoghurt",159,6,24,4),ue("Ice cream sandwich",237,9,37,4.3),ue("Eclair",262,16,24,6),ue("Cupcake",305,3.7,67,4.3),ue("Gingerbread",356,16,49,3.9);var de=a(259),pe=a(260),he=a(261),ge=a(262),fe=a(263),be=a(108),Ee=a(280),ve=a.n(Ee),Ce=a(281),we=a.n(Ce),ke=a(282),ye=a.n(ke),De=a(279),je=a.n(De),Oe=Object(L.a)(function(e){return{card:{maxWidth:345,position:"absolute",objectFit:"hide",zIndex:1e3},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest,objectFit:"cover",zIndex:5})},expandOpen:{transform:"rotate(180deg)",objectFit:"cover",zIndex:2},avatar:{backgroundColor:be.a[500]}}});function Ne(){var e=Oe(),t=i.a.useState(!1),a=Object(H.a)(t,2),n=a[0],r=a[1];return i.a.createElement(de.a,{className:e.card},i.a.createElement(pe.a,{avatar:i.a.createElement(O.a,{"aria-label":"Client",className:e.avatar},"C"),action:i.a.createElement(J.a,{"aria-label":"Settings"},i.a.createElement(je.a,null)),title:"Client: Hayden Grimes",subheader:"Location: Deep Ellum"}),i.a.createElement(he.a,null,i.a.createElement(F.a,{variant:"body2",color:"textSecondary",component:"p"},"ClientNotes: Hayden needs his lawn mowed and wanted to plant a few things for this upcoming fall.")),i.a.createElement(ge.a,{disableSpacing:!0},i.a.createElement(J.a,{"aria-label":"Add to favorites"},i.a.createElement(ve.a,null)),i.a.createElement(J.a,{"aria-label":"Share"},i.a.createElement(we.a,null)),i.a.createElement(J.a,{className:Object(q.a)(e.expand,Object(c.a)({},e.expandOpen,n)),onClick:function(){r(!n)},"aria-expanded":n,"aria-label":"Show more"},i.a.createElement(ye.a,null))),i.a.createElement(fe.a,{in:n,timeout:"auto",unmountOnExit:!0},i.a.createElement(he.a,null,i.a.createElement(F.a,{paragraph:!0},"TaskTitle: Lawn & Pottery"),i.a.createElement(F.a,{paragraph:!0},"TaskNotes: Interested in year round plants and looking for other options that between 1-6 feet. Also interested in some indoor plants but has his own pots to use. Would like some recommendations other than alo plants."),i.a.createElement(F.a,{paragraph:!0},"Location: Deep Ellum"),i.a.createElement(F.a,{paragraph:!0},"Payment: Hayden Grimes Card: 0987654321234567890 Exp: 09/22 cvv: xxx"),i.a.createElement(F.a,null,"Set aside off of the heat to let rest for 10 minutes, and then serve."))))}var xe=a(283),Se=a.n(xe),Ae=(a(348),Object(L.a)(function(e){return{hide:{zIndex:-1}}}),function(e){function t(e){var a;return Object(m.a)(this,t),console.log(e),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={data:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.value;console.log(e);return i.a.createElement(Se.a,{title:"Recent Jobs",data:e,columns:[{name:"clientName",label:"Name"},{name:"taskName",label:"Task"},{name:"email",label:"email"},{name:"phone",label:"phone"},{name:"address",label:"address"},{name:"notes",label:"notes"}],options:{filterType:"dropdown",responsive:"scroll"},useStyles:{zIndex:-1}})}}]),t}(i.a.PureComponent)),Ie=a(44),Te=a(34),Pe=(a(349),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={data:[],currentViewName:"work-week"},a.currentViewNameChange=function(e){a.setState({currentViewName:e})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.value;return n.createElement(A.a,null,n.createElement(Te.h,{data:e,height:350},n.createElement(Ie.m,{currentViewName:this.state.currentViewName,onCurrentViewNameChange:this.currentViewNameChange}),n.createElement(Te.l,{startDayHour:10,endDayHour:19}),n.createElement(Te.l,{name:"work-week",displayName:"Work Week",excludedDays:[0,6],startDayHour:9,endDayHour:19}),n.createElement(Te.j,null),n.createElement(Te.d,null),n.createElement(Te.i,null),n.createElement(Te.k,null),n.createElement(Te.c,null)))}}]),t}(n.PureComponent)),Fe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={client:[],title:"",startDate:"",endDate:"",location:"",notes:""},a.loadClientInfo=function(){D.getClients().then(function(e){a.setState({clientInfo:e.data,clientName:"",taskName:"",email:"",phone:"",address:"",notes:""}),console.log(a.state.clientInfo)}).catch(function(e){return console.log(e)})},a.loadClient=function(){D.getAppointments().then(function(e){a.setState({client:e.data,title:"",startDate:"",endDate:"",location:"",notes:""}),console.log(a.state.client)}).catch(function(e){return console.log(e)})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadClient(),this.loadClientInfo()}},{key:"render",value:function(){return i.a.createElement("div",{className:"grid-xs-12"},i.a.createElement(me.a,null,i.a.createElement(I.a,{container:!0,spacing:3},i.a.createElement(I.a,{item:!0,xs:8},i.a.createElement(A.a,{className:"grid-xs=8"},i.a.createElement(Pe,{value:this.state.client}))),i.a.createElement(I.a,{item:!0,xs:4},i.a.createElement(A.a,{className:"grid-xs-4"},i.a.createElement(Ne,null))))),i.a.createElement(me.a,null,i.a.createElement(I.a,{container:!0,spacing:3},i.a.createElement(I.a,{item:!0,xs:12},i.a.createElement(Ae,{value:this.state.clientInfo})))))}}]),t}(n.Component),Ve=a(174),Be=a(43),We=a(5),He=a(83),Ue=a(289),qe=a(224),Le=a(296),Re=a.n(Le),Me=a(294),ze=a.n(Me),_e=a(295),Ge=a.n(_e),Ye=a(173),Je=a.n(Ye),Ke=a(291),$e=a.n(Ke),Xe=a(290),Qe=a.n(Xe),Ze=a(151),et=a(274),tt=a(223),at=Object(Ze.a)({palette:{type:"light",primary:tt.a}}),nt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={appointmentChanges:{}},a.getAppointmentData=function(){return a.props.appointmentData},a.getAppointmentChanges=function(){return a.state.appointmentChanges},a.changeAppointment=a.changeAppointment.bind(Object(Be.a)(a)),a.commitAppointment=a.commitAppointment.bind(Object(Be.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"changeAppointment",value:function(e){var t=e.field,a=e.changes,n=Object(U.a)({},this.getAppointmentChanges(),Object(c.a)({},t,a));this.setState({appointmentChanges:n})}},{key:"commitAppointment",value:function(e){console.log(e);var t=this.props.commitChanges,a=Object(U.a)({},this.getAppointmentData(),this.getAppointmentChanges());"deleted"===e?t(Object(c.a)({},e,a.id)):"changed"===e?t(Object(c.a)({},e,Object(c.a)({},a.id,a))):"added"===e?t(Object(c.a)({},e,a)):console.log(e),this.setState({appointmentChanges:{}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,i=t.visible,r=t.visibleChange,l=t.appointmentData,o=this.state.appointmentChanges,s=Object(U.a)({},l,o),c="_id"===l.id,m=c?function(){return e.commitAppointment("added")}:function(){return e.commitAppointment("changed")},u=function(t){return{variant:"outlined",onChange:function(a){var n=a.target;return e.changeAppointment({field:[t],changes:n.value})},value:s[t]||"",label:t[0].toUpperCase()+t.slice(1),className:a.textField}},d=function(t){return{className:a.picker,ampm:!1,value:s[t],onChange:function(a){return e.changeAppointment({field:[t],changes:a.toDate()})},inputVariant:"outlined",format:"DD/MM/YYYY HH:mm",mask:[/\d/,/\d/,"/",/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,":",/\d/,/\d/]}};return n.createElement(Te.a.Popup,{visible:i,onBackdropClick:r},n.createElement(Te.a.Container,{className:a.container},n.createElement("div",{className:a.header},n.createElement(J.a,{className:a.closeButton,onClick:r},n.createElement(Je.a,{color:"action"}))),n.createElement("div",{className:a.content},n.createElement("div",{className:a.wrapper},n.createElement(Qe.a,{className:a.icon,color:"action"}),n.createElement(f.a,u("title"))),n.createElement("div",{className:a.wrapper},n.createElement($e.a,{className:a.icon,color:"action"}),n.createElement(He.d,{utils:Ue.a},n.createElement(He.b,Object.assign({label:"Start Date"},d("startDate"))),n.createElement(He.b,Object.assign({label:"End Date"},d("endDate"))))),n.createElement("div",{className:a.wrapper},n.createElement(ze.a,{className:a.icon,color:"action"}),n.createElement(f.a,u("location"))),n.createElement("div",{className:a.wrapper},n.createElement(Ge.a,{className:a.icon,color:"action"}),n.createElement(f.a,Object.assign({},u("notes"),{multiline:!0,rows:"6"})))),n.createElement("div",{className:a.buttonGroup},!c&&n.createElement(g.a,{variant:"outlined",color:"secondary",className:a.button,onClick:function(){e.commitAppointment("deleted"),r()}},"Delete"),n.createElement(g.a,{variant:"outlined",color:"primary",className:a.button,onClick:function(){r(),m()}},c?"Create":"Save"))))}}]),t}(n.PureComponent),it=Object(V.a)(function(e){return{container:{width:e.spacing(68),padding:0,paddingBottom:e.spacing(2)},content:{padding:e.spacing(2),paddingTop:0},header:{overflow:"hidden",paddingTop:e.spacing(.5)},closeButton:{float:"right"},buttonGroup:{display:"flex",justifyContent:"flex-end",padding:e.spacing(0,2)},button:{marginLeft:e.spacing(2)},picker:{marginRight:e.spacing(2),"&:last-child":{marginRight:0}},wrapper:{display:"flex",justifyContent:"space-between",padding:e.spacing(1,0)},icon:{margin:e.spacing(2,0),marginRight:e.spacing(2)},textField:{width:"100%"}}},{name:"AppointmentFormContainer"})(nt),rt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={data:[],currentViewName:"work-week",confirmationVisible:!1,editingFormVisible:!1,deletedAppointmentId:void 0,editingAppointmentId:void 0,addedAppointment:{},startDayHour:9,endDayHour:22},a.loadClient=function(e){console.log(e),D.getAppointments().then(function(e){a.setState({client:e.data,id:e._id,title:"",startDate:"",endDate:"",location:"",notes:""}),console.log(a.state.client)}).catch(function(e){return console.log(e)})},a.saveClient=function(){console.log(a.state);var e=Object(H.a)(a.state.data,1)[0];D.saveAppointment(e).then(a.loadClient).catch(function(e){return console.log(e)})},a.deleteAppt=function(e){D.deleteAppointment(e).then(function(e){return a.loadClient()}).catch(function(e){return console.log(e)})},a.currentViewNameChange=function(e){a.setState({currentViewName:e})},a.currentDateChange=function(e){a.setState({currentDate:e})},a.toggleConfirmationVisible=a.toggleConfirmationVisible.bind(Object(Be.a)(a)),a.commitDeletedAppointment=a.commitDeletedAppointment.bind(Object(Be.a)(a)),a.toggleEditingFormVisibility=a.toggleEditingFormVisibility.bind(Object(Be.a)(a)),a.commitChanges=a.commitChanges.bind(Object(Be.a)(a)),a.onEditingAppointmentIdChange=a.onEditingAppointmentIdChange.bind(Object(Be.a)(a)),a.onAddedAppointmentChange=a.onAddedAppointmentChange.bind(Object(Be.a)(a)),a.appointmentForm=Object(We.k)(it,function(){var e=a.state,t=e.editingFormVisible,n=e.editingAppointmentId,i=e.data,r=e.addedAppointment;return{visible:t,appointmentData:i.filter(function(e){return e.id===n})[0]||r,commitChanges:a.commitChanges,visibleChange:a.toggleEditingFormVisibility,onEditingAppointmentIdChange:a.onEditingAppointmentIdChange}}),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadClient()}},{key:"componentDidUpdate",value:function(){this.appointmentForm.update()}},{key:"onEditingAppointmentIdChange",value:function(e){this.setState({editingAppointmentId:e})}},{key:"onAddedAppointmentChange",value:function(e){this.setState({addedAppointment:e}),this.onEditingAppointmentIdChange(void 0)}},{key:"onAppointmentChangesChange",value:function(e){this.setState({changedAppointment:e}),this.onEditingAppointmentIdChange(void 0)}},{key:"setDeletedAppointmentId",value:function(e){this.setState({deletedAppointmentId:e})}},{key:"toggleEditingFormVisibility",value:function(){var e=this.state.editingFormVisible;this.setState({editingFormVisible:!e})}},{key:"toggleConfirmationVisible",value:function(){var e=this.state.confirmationVisible;this.setState({confirmationVisible:!e})}},{key:"commitDeletedAppointment",value:function(){this.setState(function(e){console.log(" state "+e);var t=e.data,a=e.deletedAppointmentId;return{data:t.filter(function(e){return e.id!==a}),deletedAppointmentId:null}}),this.toggleConfirmationVisible()}},{key:"commitChanges",value:function(e){var t=this,a=e.added,n=e.changed,i=e.deleted;console.log(this.state,this.props),this.setState(function(e){console.log("hey",e);var r=e.data;if(a){var l=r.length>0?r[r.length-1].id+1:0;r=[].concat(Object(Ve.a)(r),[Object(U.a)({id:l},a)])}return n&&(console.log(n),t.changeAppt(Object.values(n).pop()),r=r.map(function(e){return n[e.id]?Object(U.a)({},e,n[e.id]):e})),void 0!==i&&(t.setDeletedAppointmentId(i),t.toggleConfirmationVisible()),{data:r,addedAppointment:{}}},function(){t.saveClient()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentDate,i=t.confirmationVisible,r=t.editingFormVisible,l=t.startDayHour,o=t.endDayHour,s=t.currentViewName,c=this.props.classes;return n.createElement(et.a,{theme:at},n.createElement(A.a,null,n.createElement(Te.h,{data:this.state.client,height:660},n.createElement(Ie.m,{currentDate:a,currentViewName:s,onCurrentViewNameChange:this.currentViewNameChange,onCurrentDateChange:this.currentDateChange}),n.createElement(Ie.h,{editingAppointmentId:"title",onCommitChanges:this.commitChanges,onEditingAppointmentIdChange:this.onEditingAppointmentIdChange,onAddedAppointmentChange:this.onAddedAppointmentChange,onAppointmentChangesChange:this.onAppointmentChangesChange.bind(this)}),n.createElement(Te.l,{startDayHour:l,endDayHour:o}),n.createElement(Te.l,{name:"work-week",displayName:"Work Week",excludedDays:[0,6],startDayHour:9,endDayHour:19}),n.createElement(Te.g,null),n.createElement(Te.e,{startDayHour:9,endDayHour:22}),n.createElement(Te.c,null),n.createElement(Te.b,{showOpenButton:!0,showCloseButton:!0,showDeleteButton:!0}),n.createElement(Te.j,null),n.createElement(Te.d,null),n.createElement(Te.i,null),n.createElement(Te.k,null),n.createElement(Te.a,{popupComponent:this.appointmentForm,visible:r,onVisibilityChange:this.toggleEditingFormVisibility}),n.createElement(Te.f,null)),n.createElement(b.a,{open:i,onClose:this.cancelDelete},n.createElement(w.a,null,"Delete Appointment"),n.createElement(v.a,null,n.createElement(C.a,null,"Are you sure you want to delete this appointment?")),n.createElement(E.a,null,n.createElement(g.a,{onClick:this.toggleConfirmationVisible,color:"primary",variant:"outlined"},"Cancel"),n.createElement(g.a,{onClick:this.commitDeletedAppointment,color:"secondary",variant:"outlined"},"Delete"))),n.createElement(qe.a,{color:"secondary",className:c.addButton,onClick:function(){e.setState({editingFormVisible:!0}),e.onEditingAppointmentIdChange(void 0),e.onAddedAppointmentChange({startDate:new Date(a).setHours(l),endDate:new Date(a).setHours(l+1)})}},n.createElement(Re.a,null))))}}]),t}(n.PureComponent),lt=Object(V.a)(function(e){return{addButton:{position:"absolute",bottom:3*e.spacing(1),right:4*e.spacing(1)}}},{name:"EditingDemo"})(rt),ot=a(270),st=a(268),ct=a(269),mt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={clientName:"",address:"",email:"",phone:"",notes:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadClients()}},{key:"loadClients",value:function(){var e=this;D.getClients().then(function(t){return e.setState({Clients:t.data,ClientName:"",address:"",email:"",phone:"",notes:""})}).catch(function(e){return console.log(e)})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;console.log(a,n),this.setState(Object(c.a)({},a,n))}},{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault(),this.state.ClientName&&this.state.address&&D.saveClient({clientName:this.state.clientName,address:this.state.address,email:this.state.email,phone:this.state.phone,notes:this.state.notes}).then(function(e){return t.loadClients()}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{variant:"h6",gutterBottom:!0},"Client"),i.a.createElement(I.a,{container:!0,spacing:3},i.a.createElement(I.a,{item:!0,xs:12,sm:6},i.a.createElement(f.a,{onChange:this.propshandleInputChange,required:!0,value:this.props.clientName,id:"clientName",name:"clientName",label:"Client name",fullWidth:!0,autoComplete:"fname"})),i.a.createElement(I.a,{item:!0,xs:12},i.a.createElement(f.a,{onChange:this.props.handleInputChange,required:!0,value:this.props.address,id:"address",name:"address",label:"Address line",fullWidth:!0,autoComplete:"billing address-line1"})),i.a.createElement(I.a,{item:!0,xs:12,sm:6},i.a.createElement(f.a,{onChange:this.props.handleInputChange,required:!0,value:this.props.email,id:"email",name:"email",label:"Email",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12,sm:6},i.a.createElement(f.a,{onChange:this.props.handleInputChange,value:this.props.phone,id:"phone",name:"phone",label:"Phone",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12,sm:6},i.a.createElement(f.a,{onChange:this.props.handleInputChange,required:!0,value:this.props.notes,id:"notes",name:"notes",label:"Notes",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12},i.a.createElement(x.a,{control:i.a.createElement(S.a,{color:"secondary",name:"saveAddress",value:"yes"}),label:"Use this address for payment details"}))))}}]),t}(n.Component),ut=a(298);function dt(){var e=i.a.useState(new Date("2019-07-27T21:11:54")),t=Object(H.a)(e,2),a=t[0],n=t[1];function r(e){n(e)}return i.a.createElement(He.d,{utils:ut.a},i.a.createElement(I.a,{container:!0,justify:"space-around"},i.a.createElement(He.a,{margin:"normal",id:"mui-pickers-date",name:"datePicked",label:"Date picker",value:a,onChange:r,KeyboardButtonProps:{"aria-label":"change date"}}),i.a.createElement(He.c,{margin:"normal",id:"mui-pickers-time",name:"timePicked",label:"Time picker",value:a,onChange:r,KeyboardButtonProps:{"aria-label":"change time"}})))}var pt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={taskTitle:"",datePicker:"",timePicker:"",location:"",taskNotes:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadTasks()}},{key:"loadTasks",value:function(){var e=this;D.getTasks().then(function(t){return e.setState({Tasks:t.data,TaskTitle:"",datePicker:"",timePicker:"",location:"",taskNotes:""})}).catch(function(e){return console.log(e)})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;console.log(a,n),this.setState(Object(c.a)({},a,n))}},{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault(),this.state.TaskTitle&&this.state.location&&D.saveTask({taskTitle:this.state.taskTitle,datePicker:this.state.datePicker,timePicker:this.state.timePicker,location:this.state.location,taskNotes:this.state.taskNotes}).then(function(e){return t.loadTasks()}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{variant:"h6",gutterBottom:!0},"Task"),i.a.createElement(I.a,{container:!0,spacing:3},i.a.createElement(I.a,{item:!0,xs:12},i.a.createElement(f.a,{onChange:this.props.handleInputChange,required:!0,value:this.props.taskTitle,id:"taskTitle",name:"taskTitle",label:"Task Title",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12},i.a.createElement(dt,null)),i.a.createElement(I.a,{item:!0,xs:12},i.a.createElement(f.a,{onChange:this.props.handleInputChange,required:!0,value:this.props.location,id:"location",name:"location",label:"Task Address",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12},i.a.createElement(f.a,{onChange:this.props.handleInputChange,required:!0,value:this.props.taskNotes,id:"taskNotes",name:"taskNotes",label:"Task Notes",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12},i.a.createElement(x.a,{control:i.a.createElement(S.a,{color:"secondary",name:"saveAddress",value:"yes"}),label:"Use this address for payment details"}))))}}]),t}(n.Component),ht=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={cardName:"",cardNumber:"",expDate:"",cvv:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadPayments()}},{key:"loadPayments",value:function(){var e=this;D.getPayments().then(function(t){return e.setState({Payments:t.data,cardName:"",cardNumber:"",expDate:"",cvv:""})}).catch(function(e){return console.log(e)})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;console.log(a,n),this.setState(Object(c.a)({},a,n))}},{key:"handleFormSubmit",value:function(e){var t=this;e.preventDefault(),this.state.cardName&&this.state.cardNumber&&D.savePayment({cardName:this.state.cardName,cardNumber:this.state.cardNumber,expDate:this.state.expDate,cvv:this.state.cvv}).then(function(e){return t.loadPayments()}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{variant:"h6",gutterBottom:!0},"Payment method"),i.a.createElement(I.a,{container:!0,spacing:3},i.a.createElement(I.a,{item:!0,xs:12,md:6},i.a.createElement(f.a,{onChange:this.props.handleInputChange,required:!0,value:this.props.cardName,id:"cardName",label:"Name on card",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12,md:6},i.a.createElement(f.a,{onChange:this.props.handleInputChange,required:!0,value:this.props.cardNumber,id:"cardNumber",label:"Card number",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12,md:6},i.a.createElement(f.a,{onChange:this.props.handleInputChange,required:!0,value:this.props.expDate,id:"expDate",label:"Expiry date",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12,md:6},i.a.createElement(f.a,{onChange:this.props.handleInputChange,required:!0,value:this.props.cvv,id:"cvv",label:"CVV",helperText:"Last three digits on signature strip",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12},i.a.createElement(x.a,{control:i.a.createElement(S.a,{color:"secondary",name:"saveCard",value:"yes"}),label:"Remember credit card details for next time"}))))}}]),t}(n.Component),gt=["1 Material-UI Drive","Reactville","Anytown","99999","USA"],ft=[{name:"Card type",detail:"Visa"},{name:"Card holder",detail:"Mr John Smith"},{name:"Card number",detail:"xxxx-xxxx-xxxx-1234"},{name:"Expiry date",detail:"04/2024"}],bt=Object(L.a)(function(e){return{listItem:{padding:e.spacing(1,0)},total:{fontWeight:"700"},title:{marginTop:e.spacing(2)}}});function Et(){var e=bt();return i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{variant:"h6",gutterBottom:!0},"Order summary"),i.a.createElement(I.a,{container:!0,spacing:3},i.a.createElement(I.a,{item:!0,xs:12,md:6},i.a.createElement(f.a,{id:"service1",label:"Name of Service",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12,md:6},i.a.createElement(f.a,{id:"price",label:"Price of Service",fullWidth:!0}))),i.a.createElement(I.a,{container:!0,spacing:3},i.a.createElement(I.a,{item:!0,xs:12,md:6},i.a.createElement(f.a,{id:"service2",label:"Name of Service",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12,md:6},i.a.createElement(f.a,{id:"price2",label:"Price of Service",fullWidth:!0}))),i.a.createElement(I.a,{container:!0,spacing:3},i.a.createElement(I.a,{item:!0,xs:12,md:6},i.a.createElement(f.a,{id:"service3",label:"Name of Service",fullWidth:!0})),i.a.createElement(I.a,{item:!0,xs:12,md:6},i.a.createElement(f.a,{id:"priceTotal",label:"Price Total",fullWidth:!0}))),i.a.createElement(G.a,null,i.a.createElement(te.a,{className:e.listItem},i.a.createElement(ne.a,{primary:"Total"}),i.a.createElement(F.a,{variant:"subtitle1",className:e.total},"$34.06"))),i.a.createElement(I.a,{container:!0,spacing:2},i.a.createElement(I.a,{item:!0,xs:12,sm:6},i.a.createElement(F.a,{variant:"h6",gutterBottom:!0,className:e.title},"Task Location"),i.a.createElement(F.a,{gutterBottom:!0},"John Smith"),i.a.createElement(F.a,{gutterBottom:!0},gt.join(", "))),i.a.createElement(I.a,{item:!0,container:!0,direction:"column",xs:12,sm:6},i.a.createElement(F.a,{variant:"h6",gutterBottom:!0,className:e.title},"Payment details"),i.a.createElement(I.a,{container:!0},ft.map(function(e){return i.a.createElement(i.a.Fragment,{key:e.name},i.a.createElement(I.a,{item:!0,xs:6},i.a.createElement(F.a,{gutterBottom:!0},e.name)),i.a.createElement(I.a,{item:!0,xs:6},i.a.createElement(F.a,{gutterBottom:!0},e.detail)))})))))}var vt=Object(L.a)(function(e){return{appBar:{position:"relative"},grid:{width:"60%"},layout:Object(c.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(c.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}}),Ct=["Client","Task","Payment","Review"],wt=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={activeStep:0,clientName:"",address:"",email:"",phone:"",notes:"",taskTitle:"",datePicker:"",timePicker:"",location:"",taskNotes:"",cardName:"",cardNumber:"",expDate:"",cvv:""},a.handleNext=a.handleNext.bind(Object(Be.a)(a)),a.handleBack=a.handleBack.bind(Object(Be.a)(a)),a.handleFormSubmit=a.handleFormSubmit.bind(Object(Be.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(Be.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"getStepContent",value:function(e){switch(e){case 0:return i.a.createElement(mt,{handleInputChange:this.handleInputChange});case 1:return i.a.createElement(pt,{handleInputChange:this.handleInputChange});case 2:return i.a.createElement(ht,{handleInputChange:this.handleInputChange});case 3:return i.a.createElement(Et,null);default:throw new Error("Unknown step")}}},{key:"handleFormSubmit",value:function(e){var t=this;console.log("logging current state",this.state),e.preventDefault(),this.state.clientName&&this.state.address&&D.saveClient({clientName:this.state.clientName,address:this.state.address,email:this.state.email,phone:this.state.phone,notes:this.state.notes,taskTitle:this.state.taskTitle,datePicker:this.state.datePicker,timePicker:this.state.timePicker,location:this.state.location,taskNotes:this.state.taskNotes}).then(function(e){return t.loadClients()}).catch(function(e){return console.log(e)})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;console.log(a,n),this.setState(Object(c.a)({},a,n))}},{key:"handleNext",value:function(e){3!==this.state.activeStep?this.setState({activeStep:this.state.activeStep+1}):this.handleFormSubmit(e)}},{key:"handleBack",value:function(){this.setState({activeStep:this.state.activeStep-1})}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,null),i.a.createElement("main",{className:e.layout},i.a.createElement(A.a,{className:e.paper},i.a.createElement(F.a,{component:"h1",variant:"h4",align:"center"},"Create a Task"),i.a.createElement(ot.a,{activeStep:this.state.activeStep,className:e.stepper},Ct.map(function(e){return i.a.createElement(st.a,{key:e},i.a.createElement(ct.a,null,e))})),i.a.createElement(i.a.Fragment,null,this.state.activeStep===Ct.length?i.a.createElement(i.a.Fragment,null,i.a.createElement(F.a,{variant:"h5",gutterBottom:!0},"Thank you for your order."),i.a.createElement(F.a,{variant:"subtitle1"},"Your order number is #2001539. We have emailed your order confirmation, and will send you an update when your order has shipped.")):i.a.createElement(i.a.Fragment,null,this.getStepContent(this.state.activeStep),i.a.createElement("div",{className:e.buttons},0!==this.state.activeStep&&i.a.createElement(g.a,{onClick:this.handleBack,className:e.button},"Back"),i.a.createElement(g.a,{variant:"contained",color:"primary",onClick:this.handleNext,className:e.button},this.state.activeStep===Ct.length-1?"Place order":"Next")))))))}}]),t}(n.Component),kt=Object(V.a)(vt,{name:"ClientServices"})(wt),yt=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(ce,null,i.a.createElement(o.a,null,i.a.createElement(s.d,null,i.a.createElement(s.b,{path:"/app/calendar",name:"Calendar",component:lt}),i.a.createElement(s.b,{path:"/app/dashboard",name:"Dashboard",component:Fe}),i.a.createElement(s.b,{path:"/app/client",name:"ClientServices",component:kt}),i.a.createElement(s.a,{from:"/app",to:"/app/dashboard"}))))}}]),t}(n.Component);var Dt=function(){return i.a.createElement(o.a,null,i.a.createElement(s.d,null,i.a.createElement(s.b,{exact:!0,path:"/",component:W}),i.a.createElement(s.b,{component:yt})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(Dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[303,1,2]]]);
//# sourceMappingURL=main.02e9d2cc.chunk.js.map